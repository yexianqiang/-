
<html> 
 <head> 
  <title>图片转base64,兼容IE8+</title>
  <meta  charset="utf-8" />
  <meta name="author" content="徐崧">
 </head>
 	<style type="text/css">
 		.addBorder{  
		    border:1px solid #ccc;  
		}  
		  
		#imgDiv{  
		    width:100px;  
		    height:100px;  
		}  
		  
		#imgContent{  
		    width: 100%;  
		    height:100%;  
		}  
 	</style> 
 <body> 
 	<form id="imgForm">  
	    <input type="file" class="addBorder">  
	    <br/>  
	    <button type="button" onclick="loadImg()">获取图片</button>  
	</form>  
	  
	<div class="addBorder" id="imgDiv">  
	    <img id="imgContent">  
	</div>  
  <!-- js -->

 </body>
 	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
 	<script type="text/javascript">
 		
 		function loadImg(){
 			// console.log(url.files[0])
 			var file = $("#imgForm").find("input")[0].files[0];
 			console.log(file)  
	        //创建读取文件的对象  
	    	var reader = new FileReader();
	    	//创建文件读取相关的变量  
   			var imgFile;
   			//为文件读取成功设置事件  
		    reader.onload=function(e) {  
		    	// console.log(e)
		        alert('文件读取完成');  
		        imgFile = e.target.result;  
		        console.log(imgFile);  
		        $("#imgContent").attr('src', imgFile);  
		    }; 
		    //正式读取文件  
		    console.log(111)
		    // 因为上面是个事件所以先执行下面的
    		reader.readAsDataURL(file);
    	}
 	</script> 
</html>